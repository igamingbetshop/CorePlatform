"use strict";(self.webpackChunkAgentManagmentSystem=self.webpackChunkAgentManagmentSystem||[]).push([[2324],{2324:(O,s,o)=>{o.r(s),o.d(s,{ForgetPasswordComponent:()=>P});var u=o(1368),v=o(7048),e=o(6504),g=o(7816),l=o(2080),c=o(4060),f=o(1560),p=o(8416),h=o(2064),x=o(9144),y=o(2700),E=o(8824),t=o(2116),S=o(5359),w=o(8848),C=o(260),I=o(8196),F=o(748),G=o(2100);function R(i,d){1&i&&(t.I0R(0,"mat-error"),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&i&&(t.yG2(),t.oRS(" ",t.kDX(2,1,"Errors.PleaseEnterAValidEmailOrMobileNumber.")," "))}let P=(()=>{class i{get emailControl(){return this.emailForm.get("Identifier")}constructor(a,n,r,m,k,D,L){this.authService=a,this.configService=n,this.apiService=r,this.localStorageService=m,this.snackbarService=k,this.fb=D,this.router=L,this.imagePath="",this.isSendingEmail=!1,this.emailForm=this.fb.group({Identifier:["",[e.AQ.required,i=>{const d=i.value;return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(d)||/^\+?[0-9]+$/.test(d)?null:{invalidEmailOrMobile:!0}}]]})}ngOnInit(){this.setLogoByDomain()}changeLanguage(a){this.localStorageService.addLanguage("lang",a)}sendEmail(){this.emailForm.invalid||this.isSendingEmail||(this.isSendingEmail=!0,this.authService.sendEmail(this.emailForm.value).pipe((0,x.a)(n=>(this.snackbarService.showError("Failed to send email"),(0,y.of)(null))),(0,E.U)(()=>{this.isSendingEmail=!1})).subscribe(n=>{n&&0===n.ResponseCode?this.router.navigate(["auth/recovery"]):this.snackbarService.showError(n?n.Description:"Unknown error occurred")}))}setLogoByDomain(){const a="assets/images/"+window.location.hostname+"/login-logo.svg";let n=new Image;n.onload=()=>{this.imagePath=a},n.onerror=()=>{this.imagePath="assets/images/login-logo.svg"},n.src=a}toRedirectLogin(){this.router.navigate(["auth/login"])}static#t=this.\u0275fac=function(n){return new(n||i)(t.GI1(S.o),t.GI1(w.a),t.GI1(C.W),t.GI1(I.s),t.GI1(F.i),t.GI1(e.KE),t.GI1(G.E5))};static#o=this.\u0275cmp=t.In1({type:i,selectors:[["app-forget-password"]],standalone:!0,features:[t.UHJ],decls:24,vars:15,consts:[[1,"login-container"],[1,"card"],[1,"card-header"],["alt","logo",3,"src"],[1,"name"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"title"],["appearance","outline"],["matInput","","type","text","formControlName","Identifier","placeholder","Email or mobile number",1,"input"],["matTextPrefix","",1,"matTextPrefix"],[1,"icon"],[1,"forget-pass",3,"click"],[1,"btn-content"],["mat-raised-button","","type","submit",1,"login-btn",3,"click"]],template:function(n,r){1&n&&(t.I0R(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2),t.wR5(3,"img",3),t.I0R(4,"div",4),t.OEk(5),t.wVc(6,"translate"),t.C$Y()(),t.I0R(7,"form",5),t.qCj("ngSubmit",function(){return r.sendEmail()}),t.I0R(8,"mat-card-content")(9,"div",6),t.OEk(10),t.C$Y(),t.I0R(11,"mat-form-field",7),t.wR5(12,"input",8),t.I0R(13,"span",9)(14,"mat-icon",10),t.OEk(15,"email"),t.C$Y()(),t.yuY(16,R,3,3,"mat-error"),t.C$Y(),t.I0R(17,"a",11),t.qCj("click",function(){return r.toRedirectLogin()}),t.OEk(18),t.wVc(19,"translate"),t.C$Y()(),t.I0R(20,"div",12)(21,"button",13),t.qCj("click",function(){return r.sendEmail()}),t.OEk(22),t.wVc(23,"translate"),t.C$Y()()()()()),2&n&&(t.yG2(3),t._6D("src",r.imagePath,t.K6U),t.yG2(2),t.cNF(t.kDX(6,9,"Login.AgentsSystem")),t.yG2(2),t.E7m("formGroup",r.emailForm),t.yG2(3),t.cNF("Forget Password"),t.yG2(6),t.C0Y(16,r.emailControl.hasError("required")?16:-1),t.yG2(2),t.cNF(t.kDX(19,11,"Login.Login")),t.yG2(3),t.eAK("disabled",r.emailForm.invalid||r.isSendingEmail),t.yG2(),t.oRS(" ",t.kDX(23,13,"Login.SendEmail")," "))},dependencies:[u.MD,e.y,e.sz,e.ot,e.ue,e.u,e.sl,e.uW,e.Wo,l.NR,l.SM,l.WK,l.Uc,g.oJ,g.Gw,c.wb,c.Up,c.wJ,c.is,p.cN,p.yi,f.oB,f.qL,v.SU,h.O0,h.sD],styles:[".login-container{display:flex;justify-content:center;align-items:center;flex-direction:row;height:100vh;background-color:#076192}.login-container .card-header{text-align:center;width:100%;display:block;padding:34px 0}.login-container .card-header .name{color:#076192;margin-top:4px;cursor:default}.login-container mat-card{padding:0 24px 24px;background-color:#f0f5f8;box-shadow:unset;max-width:452px;width:100%;box-sizing:border-box}.login-container mat-card card-header{text-align:center;width:100%;display:block;padding:34px 0}.login-container mat-card card-header .name{color:#076192;margin-top:4px}.login-container mat-card .login-form{padding:0 34px 32px;border-radius:4px;background-color:#fff;box-shadow:0 4px 4px #00000040}.login-container mat-card .login-form mat-card-content{margin-bottom:60px}.login-container mat-card .login-form mat-card-content .title{text-align:center;padding:32px 0 30px;color:#035d8f;font-size:16px;cursor:default}.login-container mat-card .login-form mat-card-content mat-form-field{margin-bottom:10px;width:100%;color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-mdc-text-field-wrapper{background-color:#e9f0fe}.login-container mat-card .login-form mat-card-content mat-form-field .input{margin-left:12px;width:100%}.login-container mat-card .login-form mat-card-content mat-form-field mat-select{width:100%;margin-left:12px;color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field::placeholder{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field::placeholder .ng-invalid.ng-touched{color:#b11029!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-placeholder{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-placeholder.ng-invalid.ng-touched{color:#b11029!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-value-text{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-value-text.ng-invalid.ng-touched{color:#b11029!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-form-field-label{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-form-field-label.ng-invalid.ng-touched{color:#b11029!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-arrow{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field mat-error{font-size:12px!important;color:#b11029!important}.login-container mat-card .login-form .matTextPrefix{position:relative}.login-container mat-card .login-form .matTextPrefix .mat-icon{position:absolute;left:-14px;top:-17px;color:#035d8f}.login-container mat-card .login-form .password-input{position:relative;width:100%}.login-container mat-card .login-form .password-input .password-icon{position:absolute;top:10px;right:-17px;font-size:19px;color:#035d8f}a{color:#378fc8;cursor:pointer;text-decoration:none}a:hover{color:#b11029}.btn-content{position:relative}.btn-content .login-btn{width:100%;padding:0 10px;height:52px;color:#fff;background:linear-gradient(#2787b7,#035d8f);cursor:pointer;border:unset}.btn-content .login-btn ::ng-deep .mat-button-wrapper{color:#fff!important}.btn-content .login-btn.disabled{opacity:.7}.btn-content .login-btn:hover{border:1px solid #076192;background-color:#0573ba}.btn-content .mat-error{color:#d3455b;font-size:12px;position:absolute;left:0;top:43px}\n"],encapsulation:2})}return i})()}}]);