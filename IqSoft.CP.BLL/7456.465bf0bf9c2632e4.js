"use strict";(self.webpackChunkAgentManagmentSystem=self.webpackChunkAgentManagmentSystem||[]).push([[7456],{7456:(A,d,r)=>{r.r(d),r.d(d,{CreateClientComponent:()=>F});var D=r(1368),o=r(6504),I=r(7816),s=r(4060),_=r(1560),E=r(8416),p=r(2096),C=r(2864),G=r(3992),c=r(9120),f=r(3576),h=r(3840),g=r(2064),e=r(2116),R=r(8196),y=r(2236),O=r(748),k=r(9112);function Y(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function v(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function M(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function N(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.MinLength")," "))}function S(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function w(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function P(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function T(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function $(t,i){if(1&t&&(e.I0R(0,"mat-option",19),e.OEk(1),e.C$Y()),2&t){const n=i.$implicit;e.E7m("value",n.Id),e.yG2(),e.cNF(n.Name)}}function b(t,i){1&t&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&t&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}let F=(()=>{class t{get usernameControl(){return this.formGroup.get("UserName")}get passwordControl(){return this.formGroup.get("Password")}get firstNameControl(){return this.formGroup.get("FirstName")}get emailControl(){return this.formGroup.get("Email")}get lastNameControl(){return this.formGroup.get("LastName")}get mobileNumberControl(){return this.formGroup.get("MobileNumber")}get stateControl(){return this.formGroup.get("State")}get genderControl(){return this.formGroup.get("Gender")}get languageControl(){return this.formGroup.get("LanguageId")}constructor(n,l,a,m,u,V){this.dialogRef=n,this.fb=l,this.localStorageService=a,this.enumService=m,this.snackbarService=u,this.clientService=V,this.genders=[],this.languages=[],this.createForm()}ngOnInit(){this.setStates(),this.genders=this.localStorageService.get("enums").genders,this.languages=this.localStorageService.get("enums").languages,this.setCurrencyId()}setCurrencyId(){const n=this.localStorageService.get("user").CurrencyId;this.formGroup.patchValue({CurrencyId:n})}setStates(){this.states=this.enumService.getUserStates()}createForm(){this.formGroup=this.fb.group({UserName:[null,[o.AQ.required]],Password:[null,[o.AQ.required,o.AQ.minLength(8)]],FirstName:[null,[o.AQ.required]],LastName:[null,[o.AQ.required]],MobileNumber:[null],Email:[null,o.AQ.required],SendMail:[!1],SendSms:[!1],Gender:[1,[o.AQ.required]],LanguageId:[""],CurrencyId:[null],BirthDate:[null,[o.AQ.required,this.validateBirthDate]]})}get errorControl(){return this.formGroup.controls}close(){this.dialogRef.close()}onSubmit(){if(this.formGroup.invalid)return;const n=this.formGroup.getRawValue();this.clientService.createClient(n).pipe((0,G.U)(1)).subscribe(l=>{0===l.ResponseCode?this.dialogRef.close(!0):this.snackbarService.showError(l.Description)})}validateBirthDate(n){if(n.value){const l=new Date,a=new Date(l.getFullYear()-18,l.getMonth(),l.getDate());if(new Date(n.value)>=a)return{invalidBirthDate:!0}}return null}static#e=this.\u0275fac=function(l){return new(l||t)(e.GI1(C.yI),e.GI1(o.KE),e.GI1(R.s),e.GI1(y.Y),e.GI1(O.i),e.GI1(k.i))};static#t=this.\u0275cmp=e.In1({type:t,selectors:[["app-create-client"]],standalone:!0,features:[e.UHJ],decls:91,vars:72,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"mat-dialog-title"],[1,"title"],["alt","icon",1,"icon",3,"click"],[1,"modal-body"],[1,"modal-form",3,"formGroup"],[1,"form-row","form-row-500"],[1,"mat-form-field"],["matInput","","formControlName","UserName",3,"placeholder"],["matInput","","formControlName","FirstName",3,"placeholder"],["matInput","","type","password","formControlName","Password",3,"placeholder"],["matInput","","formControlName","LastName",3,"placeholder"],["matInput","","formControlName","Email",3,"placeholder"],["matInput","","type","number","formControlName","MobileNumber",3,"placeholder"],[1,"example-full-width"],["matInput","","formControlName","BirthDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["formControlName","Gender"],[3,"value"],["formControlName","SendMail",1,"example-margin"],["formControlName","SendSms",1,"example-margin"],["mat-dialog-actions","",1,"mat-dialog-actions"],[1,"modal-cancel-btn",3,"click"],["type","submit",1,"modal-primary-btn",3,"disabled","click"]],template:function(l,a){if(1&l&&(e.I0R(0,"div",0)(1,"div",1)(2,"span",2),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"mat-icon",3),e.qCj("click",function(){return a.close()}),e.OEk(6,"close"),e.C$Y()(),e.I0R(7,"div",4)(8,"form",5)(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),e.OEk(12),e.wVc(13,"translate"),e.C$Y(),e.wR5(14,"input",8),e.wVc(15,"translate"),e.yuY(16,Y,3,3,"mat-error"),e.C$Y(),e.I0R(17,"mat-form-field",7)(18,"mat-label"),e.OEk(19),e.wVc(20,"translate"),e.C$Y(),e.wR5(21,"input",9),e.wVc(22,"translate"),e.yuY(23,v,3,3,"mat-error"),e.C$Y()(),e.I0R(24,"div",6)(25,"mat-form-field",7)(26,"mat-label"),e.OEk(27),e.wVc(28,"translate"),e.C$Y(),e.wR5(29,"input",10),e.yuY(30,M,3,3,"mat-error")(31,N,3,3,"mat-error"),e.C$Y(),e.I0R(32,"mat-form-field",7)(33,"mat-label"),e.OEk(34),e.wVc(35,"translate"),e.C$Y(),e.wR5(36,"input",11),e.wVc(37,"translate"),e.yuY(38,S,3,3,"mat-error"),e.C$Y()(),e.I0R(39,"div",6)(40,"mat-form-field",7)(41,"mat-label"),e.OEk(42),e.wVc(43,"translate"),e.C$Y(),e.wR5(44,"input",12),e.wVc(45,"translate"),e.yuY(46,w,3,3,"mat-error"),e.C$Y(),e.I0R(47,"mat-form-field",7)(48,"mat-label"),e.OEk(49),e.wVc(50,"translate"),e.C$Y(),e.wR5(51,"input",13),e.wVc(52,"translate"),e.yuY(53,P,3,3,"mat-error"),e.C$Y()(),e.I0R(54,"div",6)(55,"mat-form-field",14)(56,"mat-label"),e.OEk(57),e.wVc(58,"translate"),e.C$Y(),e.wR5(59,"input",15),e.I0R(60,"mat-hint"),e.OEk(61,"MM/DD/YYYY"),e.C$Y(),e.wR5(62,"mat-datepicker-toggle",16)(63,"mat-datepicker",null,17),e.yuY(65,T,3,3,"mat-error"),e.C$Y(),e.I0R(66,"mat-form-field",7)(67,"mat-label"),e.OEk(68),e.wVc(69,"translate"),e.C$Y(),e.I0R(70,"mat-select",18)(71,"mat-option",19),e.OEk(72),e.wVc(73,"translate"),e.C$Y(),e.c53(74,$,2,2,"mat-option",19,e.wJt),e.C$Y(),e.yuY(76,b,3,3,"mat-error"),e.C$Y()(),e.I0R(77,"div",6)(78,"mat-checkbox",20),e.OEk(79),e.wVc(80,"translate"),e.C$Y(),e.I0R(81,"mat-checkbox",21),e.OEk(82),e.wVc(83,"translate"),e.C$Y()()()(),e.I0R(84,"div",22)(85,"button",23),e.qCj("click",function(){return a.close()}),e.OEk(86),e.wVc(87,"translate"),e.C$Y(),e.I0R(88,"button",24),e.qCj("click",function(){return a.onSubmit()}),e.OEk(89),e.wVc(90,"translate"),e.C$Y()()()),2&l){const m=e.Gew(64);let u;e.yG2(3),e.cNF(e.kDX(4,34,"Clients.AddClient")),e.yG2(5),e.E7m("formGroup",a.formGroup),e.yG2(4),e.cNF(e.kDX(13,36,"Common.UserName")),e.yG2(2),e.E7m("placeholder",e.kDX(15,38,"Common.UserName")),e.yG2(2),e.C0Y(16,a.usernameControl.hasError("required")?16:-1),e.yG2(3),e.cNF(e.kDX(20,40,"Common.FirstName")),e.yG2(2),e.E7m("placeholder",e.kDX(22,42,"Common.FirstName")),e.yG2(2),e.C0Y(23,a.firstNameControl.hasError("required")?23:-1),e.yG2(4),e.cNF(e.kDX(28,44,"Common.Password")),e.yG2(2),e.E7m("placeholder","Password at least 8 characters"),e.yG2(),e.C0Y(30,a.passwordControl.hasError("required")?30:-1),e.yG2(),e.C0Y(31,a.passwordControl.hasError("minlength")?31:-1),e.yG2(3),e.cNF(e.kDX(35,46,"Common.LastName")),e.yG2(2),e.E7m("placeholder",e.kDX(37,48,"Common.LastName")),e.yG2(2),e.C0Y(38,a.lastNameControl.hasError("required")?38:-1),e.yG2(4),e.cNF(e.kDX(43,50,"Common.Email")),e.yG2(2),e.E7m("placeholder",e.kDX(45,52,"Common.Email")),e.yG2(2),e.C0Y(46,a.emailControl.hasError("required")?46:-1),e.yG2(3),e.cNF(e.kDX(50,54,"Common.MobileNumber")),e.yG2(2),e.E7m("placeholder",e.kDX(52,56,"Common.MobileNumber")),e.yG2(2),e.C0Y(53,a.mobileNumberControl.hasError("required")?53:-1),e.yG2(4),e.cNF(e.kDX(58,58,"Common.ChooseADate")),e.yG2(2),e.E7m("matDatepicker",m),e.yG2(3),e.E7m("for",m),e.yG2(3),e.C0Y(65,null!=(u=a.formGroup.get("BirthDate"))&&u.hasError("required")?65:-1),e.yG2(3),e.cNF(e.kDX(69,60,"Common.SelectGender")),e.yG2(3),e.E7m("value",0),e.yG2(),e.cNF(e.kDX(73,62,"Common.SelectGender")),e.yG2(2),e.oho(a.genders),e.yG2(2),e.C0Y(76,a.genderControl.hasError("required")?76:-1),e.yG2(3),e.cNF(e.kDX(80,64,"Common.SendMail")),e.yG2(3),e.cNF(e.kDX(83,66,"Common.SendSms")),e.yG2(4),e.cNF(e.kDX(87,68,"Common.Cancel")),e.yG2(2),e.E7m("disabled",a.formGroup.invalid),e.yG2(),e.oRS(" ",e.kDX(90,70,"Clients.CreateClient"),"")}},dependencies:[D.MD,o.y,o.sz,o.ot,o.O4,o.ue,o.u,_.oB,_.qL,o.sl,o.uW,o.Wo,s.wb,s.Up,s.w5,s.MX,s.wJ,s.Gm,p.d5,p.kX,f.I5,E.cN,E.yi,I.oJ,C.sr,C.WQ,C.Yp,c.iU,c.SU,c.Ul,c.yu,f.Ko,h.Vn,h.WK,g.O0,g.sD],styles:[".modal-body[_ngcontent-%COMP%]{position:relative;overflow:auto;height:100%;max-height:calc(65vh - 91px);min-height:200px;padding-right:14px}"]})}return t})()}}]);