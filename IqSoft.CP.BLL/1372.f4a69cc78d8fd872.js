"use strict";(self.webpackChunkAgentManagmentSystem=self.webpackChunkAgentManagmentSystem||[]).push([[1372],{1372:(w,d,i)=>{i.r(d),i.d(d,{ClientMainInfoComponent:()=>E});var _=i(1368),r=i(6504),c=i(7816),m=i(4060),f=i(1560),u=i(8416),g=i(2096),C=i(2064),t=i(2116),O=i(9112),M=i(2236),p=i(2100),P=i(8196),b=i(3576);function I(a,l){1&a&&(t.I0R(0,"mat-form-field"),t.wR5(1,"input",34),t.C$Y())}function h(a,l){if(1&a&&(t.I0R(0,"mat-option",36),t.OEk(1),t.C$Y()),2&a){const e=l.$implicit,n=t.GaO(2);t.E7m("value",e.Id)("disabled",!n.editMode),t.yG2(),t.oRS(" ",e.Name," ")}}function v(a,l){if(1&a&&(t.I0R(0,"mat-form-field")(1,"mat-select",35),t.c53(2,h,2,3,"mat-option",36,t.wJt),t.C$Y()()),2&a){const e=t.GaO();t.yG2(2),t.oho(e.userStateEnum)}}function y(a,l){if(1&a){const e=t.KQA();t.I0R(0,"div",37)(1,"button",38),t.qCj("click",function(){t.usT(e);const o=t.GaO();return t.CGJ(o.onCancel())}),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.I0R(4,"button",39),t.qCj("click",function(){t.usT(e);const o=t.GaO();return t.CGJ(o.onSubmit())}),t.OEk(5),t.wVc(6,"translate"),t.C$Y()()}if(2&a){const e=t.GaO();t.yG2(2),t.cNF(t.kDX(3,3,"Common.Cancel")),t.yG2(2),t.E7m("disabled",e.userForm.invalid),t.yG2(),t.cNF(t.kDX(6,5,"Common.Submit"))}}let E=(()=>{class a{constructor(e,n,o,s,R,x){this.clientService=e,this.enumService=n,this.activatedRoute=o,this.route=s,this.localStorageService=R,this.fb=x,this.editMode=!1,this.datePipe=new _.y("en-US"),this.createForm()}ngOnInit(){this.genders=this.localStorageService.get("enums").genders,this.clientId=this.activatedRoute.snapshot.queryParams.clientId,this.getUserStateEnum(),this.getClient()}getUserStateEnum(){this.enumService.getUserStateEnum().subscribe(e=>{0===e.ResponseCode&&(this.userStateEnum=e.ResponseObject)})}getClient(){this.clientService.getClientsById({ClientId:this.clientId}).subscribe(e=>{0===e.ResponseCode&&this.setFormValues(e.ResponseObject.Entities[0])})}setFormValues(e){e.StateName=this.userStateEnum.find(n=>n.Id===e.State)?.Name,e.GenderName=this.genders.find(n=>n.Id===e.Gender)?.Name,this.userForm.patchValue(e)}toggleEditMode(){if(this.editMode=!this.editMode,this.editMode){const e=this.userForm.get("Password"),n=this.userForm.get("State");this.userForm.get("CreationTime")?.disable(),this.userForm.get("UserName")?.disable(),this.userForm.get("Email")?.disable(),this.userForm.get("PartnerId")?.disable(),this.userForm.get("Id")?.disable(),this.userForm.get("CurrencyId")?.disable(),this.userForm.get("LanguageId")?.disable(),this.userForm.get("FirstName")?.disable(),this.userForm.get("LastName")?.disable(),this.userForm.get("GenderName")?.disable(),this.userForm.get("TypeName")?.disable(),e&&e.setErrors({invalid:!0}),n&&n.setErrors({invalid:!0})}else this.setFormValuesEneble()}setFormValuesEneble(){this.userForm.get("CreationTime")?.enable(),this.userForm.get("UserName")?.enable(),this.userForm.get("Email")?.enable(),this.userForm.get("PartnerId")?.enable(),this.userForm.get("Id")?.enable(),this.userForm.get("CurrencyId")?.enable(),this.userForm.get("LanguageId")?.enable(),this.userForm.get("FirstName")?.enable(),this.userForm.get("LastName")?.enable(),this.userForm.get("GenderName")?.enable(),this.userForm.get("TypeName")?.enable()}createForm(){this.userForm=this.fb.group({Id:[null],PartnerId:[null],UserName:[null],FirstName:[null],CurrencyId:[null],LastName:[null],LanguageId:[null],Email:[null],State:[null],StateName:[null],Gender:[null],GenderName:[null],Type:[null],CreationTime:[null],Password:[null]})}getFormattedDate(){const e=this.userForm.get("CreationTime")?.value;return null!=e?this.datePipe.transform(e,"dd/MM/yyyy HH:mm")??"":""}onCancel(){this.editMode=!1,this.setFormValuesEneble()}onSubmit(){const e={ObjectId:this.userForm.get("Id")?.value,Password:this.userForm.get("Password")?.value,State:this.userForm.get("State")?.value};this.clientService.updateAgentClient(e).subscribe(n=>{0===n.ResponseCode&&(this.editMode=!1,this.setFormValues(n.ResponseObject),this.setFormValuesEneble(),this.userForm.get("Password")?.setValue(null))})}onNavigateToClient(){this.route.navigate(["main/clients/client"])}static#t=this.\u0275fac=function(n){return new(n||a)(t.GI1(O.i),t.GI1(M.Y),t.GI1(p.gV),t.GI1(p.E5),t.GI1(P.s),t.GI1(r.im))};static#e=this.\u0275cmp=t.In1({type:a,selectors:[["app-client-main-info"]],standalone:!0,features:[t.UHJ],decls:109,vars:50,consts:[[1,"content-action"],[1,"title"],[3,"click"],[1,"edit-btn",3,"click"],[1,"user-profile"],[1,"user-details",3,"formGroup"],[1,"form-row"],[1,"form-label"],["for","Id"],[1,"form-input"],["appearance","outline"],["matInput","","type","text","id","Id","formControlName","Id","readonly",""],["for","PartnerId"],["matInput","","type","text","id","PartnerId","formControlName","PartnerId","readonly",""],["for","UserName"],["matInput","","type","text","id","UserName","formControlName","UserName","readonly",""],["for","FirstName"],["matInput","","type","text","id","FirstName","formControlName","FirstName","readonly",""],["for","CurrencyId"],["matInput","","type","text","id","CurrencyId","formControlName","CurrencyId","readonly",""],["for","LastName"],["matInput","","type","text","id","LastName","formControlName","LastName","readonly",""],["for","LanguageId"],["matInput","","type","text","id","LanguageId","formControlName","LanguageId","readonly",""],["for","Email"],["matInput","","type","email","id","Email","formControlName","Email","readonly",""],["for","GenderName"],["matInput","","type","text","id","GenderName","formControlName","GenderName","readonly",""],["for","State"],["for","CreationTime"],["matInput","","type","text","id","CreationTime","readonly","",3,"value","disabled"],["for","Password"],["matInput","","type","password","placeholder","*******","id","Password","formControlName","Password",3,"readonly"],["class","actions"],["matInput","","type","text","id","StateName","formControlName","StateName","readonly",""],["placeholder","Select State","formControlName","State"],[3,"value","disabled"],[1,"actions"],["mat-stroked-button","",1,"mat-cancel-btn",3,"click"],["mat-stroked-button","","type","submit",1,"mat-btn",3,"disabled","click"]],template:function(n,o){1&n&&(t.I0R(0,"div",0)(1,"div",1)(2,"a",2),t.qCj("click",function(){return o.onNavigateToClient()}),t.OEk(3),t.wVc(4,"translate"),t.C$Y(),t.OEk(5),t.wVc(6,"translate"),t.C$Y(),t.I0R(7,"button",3),t.qCj("click",function(){return o.toggleEditMode()}),t.OEk(8),t.C$Y()(),t.I0R(9,"div",4)(10,"form",5)(11,"div",6)(12,"div",7)(13,"label",8),t.OEk(14),t.wVc(15,"translate"),t.C$Y()(),t.I0R(16,"div",9)(17,"mat-form-field",10),t.wR5(18,"input",11),t.C$Y()()(),t.I0R(19,"div",6)(20,"div",7)(21,"label",12),t.OEk(22),t.wVc(23,"translate"),t.C$Y()(),t.I0R(24,"div",9)(25,"mat-form-field"),t.wR5(26,"input",13),t.C$Y()()(),t.I0R(27,"div",6)(28,"div",7)(29,"label",14),t.OEk(30),t.wVc(31,"translate"),t.C$Y()(),t.I0R(32,"div",9)(33,"mat-form-field"),t.wR5(34,"input",15),t.C$Y()()(),t.I0R(35,"div",6)(36,"div",7)(37,"label",16),t.OEk(38),t.wVc(39,"translate"),t.C$Y()(),t.I0R(40,"div",9)(41,"mat-form-field"),t.wR5(42,"input",17),t.C$Y()()(),t.I0R(43,"div",6)(44,"div",7)(45,"label",18),t.OEk(46),t.wVc(47,"translate"),t.C$Y()(),t.I0R(48,"div",9)(49,"mat-form-field"),t.wR5(50,"input",19),t.C$Y()()(),t.I0R(51,"div",6)(52,"div",7)(53,"label",20),t.OEk(54),t.wVc(55,"translate"),t.C$Y()(),t.I0R(56,"div",9)(57,"mat-form-field"),t.wR5(58,"input",21),t.C$Y()()(),t.I0R(59,"div",6)(60,"div",7)(61,"label",22),t.OEk(62),t.wVc(63,"translate"),t.C$Y()(),t.I0R(64,"div",9)(65,"mat-form-field"),t.wR5(66,"input",23),t.C$Y()()(),t.I0R(67,"div",6)(68,"div",7)(69,"label",24),t.OEk(70),t.wVc(71,"translate"),t.C$Y()(),t.I0R(72,"div",9)(73,"mat-form-field"),t.wR5(74,"input",25),t.C$Y()()(),t.I0R(75,"div",6)(76,"div",7)(77,"label",26),t.OEk(78),t.wVc(79,"translate"),t.C$Y()(),t.I0R(80,"div",9)(81,"mat-form-field"),t.wR5(82,"input",27),t.C$Y()()(),t.I0R(83,"div",6)(84,"div",7)(85,"label",28),t.OEk(86),t.wVc(87,"translate"),t.C$Y()(),t.I0R(88,"div",9),t.yuY(89,I,2,0,"mat-form-field")(90,v,4,0),t.C$Y()(),t.I0R(91,"div",6)(92,"div",7)(93,"label",29),t.OEk(94),t.wVc(95,"translate"),t.C$Y()(),t.I0R(96,"div",9)(97,"mat-form-field"),t.wR5(98,"input",30),t.C$Y()()(),t.I0R(99,"div",6)(100,"div",7)(101,"label",31),t.OEk(102),t.wVc(103,"translate"),t.C$Y()(),t.I0R(104,"div",9)(105,"mat-form-field"),t.wR5(106,"input",32),t.C$Y()()(),t.wR5(107,"div"),t.yuY(108,y,7,7,"div",33),t.C$Y()()),2&n&&(t.yG2(3),t.CAO(" ",t.kDX(4,22,"Clients.Clients")," / ",o.clientId," "),t.yG2(2),t.oRS(" ",t.kDX(6,24,"Common.MainInfo")," "),t.yG2(3),t.cNF("Edit"),t.yG2(2),t.E7m("formGroup",o.userForm),t.yG2(4),t.oRS(" ",t.kDX(15,26,"Common.Id"),":"),t.yG2(8),t.oRS(" ",t.kDX(23,28,"Common.PartnerId"),":"),t.yG2(8),t.oRS("",t.kDX(31,30,"Common.UserName"),":"),t.yG2(8),t.oRS("",t.kDX(39,32,"Common.FirstName"),":"),t.yG2(8),t.oRS("",t.kDX(47,34,"Common.Currency"),":"),t.yG2(8),t.oRS("",t.kDX(55,36,"Common.LastName")," :"),t.yG2(8),t.oRS("",t.kDX(63,38,"Common.Language"),":"),t.yG2(8),t.oRS("",t.kDX(71,40,"Common.Email"),":"),t.yG2(8),t.oRS("",t.kDX(79,42,"Common.Gender"),":"),t.yG2(8),t.oRS("",t.kDX(87,44,"Common.State"),":"),t.yG2(3),t.C0Y(89,o.editMode?90:89),t.yG2(5),t.oRS("",t.kDX(95,46,"Common.CreationTime"),":"),t.yG2(4),t.E7m("value",o.getFormattedDate())("disabled",o.editMode),t.yG2(4),t.oRS("",t.kDX(103,48,"Common.Password"),":"),t.yG2(4),t.E7m("readonly",!o.editMode),t.yG2(2),t.C0Y(108,o.editMode?108:-1))},dependencies:[r.y,r.sz,r.ot,r.ue,r.u,r.sl,r.uW,r.Wo,c.oJ,c.Gw,m.wb,m.Up,u.cN,u.yi,f.oB,g.d5,g.kX,b.I5,C.O0,C.sD],styles:[".content-action[_ngcontent-%COMP%]{height:6%;display:flex;align-items:center;flex-wrap:wrap;padding-right:10px;padding-left:10px;margin-bottom:20px}.content-action[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;letter-spacing:.04em;color:#076192;flex:1;padding-left:10px}.content-action[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#076192}.content-action[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.content-action[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{background-color:#239dff;padding:10px;border:1px solid #239dff;min-width:104px;color:#fff;border-radius:4px;font-size:16px;font-weight:500}.content-action[_ngcontent-%COMP%]   .edit-btn.disabled[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.content-action[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover{border:1px solid #076192;background-color:#dbecf8;color:#000}.user-profile[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;padding-left:10px;padding-right:10px}.user-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:left}.user-profile[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{float:right;margin-right:10px;padding:5px 10px}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;min-height:50px}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{position:absolute;min-height:45px;padding:0 10px;top:12%;border-radius:4px;width:33%;display:flex;align-items:center;background-color:#dbecf8;color:#0573ba;font-size:16px;font-weight:400;line-height:19px;letter-spacing:.04em;text-align:left}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{position:absolute;min-height:46px;border-radius:4px;top:11%;left:36%;width:64%;display:flex;align-items:center;box-sizing:border-box;font-size:16px;letter-spacing:.04em;text-align:left;word-break:break-all;overflow:auto}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:5px}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;column-gap:6px}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-btn[_ngcontent-%COMP%]{background-color:#239dff;padding:10px;border:1px solid #239dff;min-width:104px;color:#fff;border-radius:4px;font-size:16px;font-weight:500}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-btn.disabled[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-btn[_ngcontent-%COMP%]:hover{border:1px solid #076192;background-color:#dbecf8;color:#000}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-btn.disabled[_ngcontent-%COMP%]{color:#076192!important;background-color:#a0c4d8;pointer-events:none}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-btn.disabled[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%]{color:#076192!important}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-btn[_ngcontent-%COMP%]:hover{cursor:pointer;border:1px solid #076192;background:linear-gradient(#076192,#258ecd 50%,#0573ba)}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-cancel-btn[_ngcontent-%COMP%]{background-color:#239dff;padding:10px;border:1px solid #239dff;min-width:104px;color:#fff;border-radius:4px;font-size:16px;font-weight:500;background:none;color:#000;border:1px solid var(--text-3, rgb(89, 89, 89))}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-cancel-btn.disabled[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-cancel-btn[_ngcontent-%COMP%]:hover{border:1px solid #076192;background-color:#dbecf8;color:#000}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-cancel-btn[_ngcontent-%COMP%]:hover{border:1px solid #076192;background:#c4c4c4}.user-profile[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .mat-cancel-btn[_ngcontent-%COMP%]:hover   .mat-button-wrapper[_ngcontent-%COMP%]{color:#076192!important}@media screen and (max-width: 768px){.content-action[_ngcontent-%COMP%]{margin-top:43px}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr!important}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex-direction:column}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{position:static;padding:0;width:100%;font-size:18px;color:var(--main, rgb(33, 150, 243));margin-bottom:4px}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:16px}.user-profile[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{position:static;width:100%}}"]})}return a})()}}]);