"use strict";(self.webpackChunkAgentManagmentSystem=self.webpackChunkAgentManagmentSystem||[]).push([[6920],{6920:(y,c,o)=>{o.r(c),o.d(c,{CorrectionModalComponent:()=>I});var _=o(1368),e=o(6504),f=o(7816),l=o(2864),s=o(4060),d=o(1560),u=o(8416),C=o(2096),t=o(2116),p=o(748),E=o(9288);function h(i,M){1&i&&(t.I0R(0,"mat-error"),t.OEk(1," The field is required "),t.C$Y())}function g(i,M){1&i&&(t.I0R(0,"mat-error"),t.OEk(1," The field is required "),t.C$Y())}let I=(()=>{class i{constructor(a,r,n,m,O){this.dialogRef=a,this.fb=r,this.snackbarService=n,this.data=m,this.agentService=O,this.createForm()}ngOnInit(){this.type=this.data.type,this.userId=this.data.userId,this.formGroup.get("type")?.setValue(this.type),this.formGroup.get("UserId")?.setValue(this.userId)}get infoControl(){return this.formGroup.get("Info")}get amountControl(){return this.formGroup.get("Amount")}createForm(){this.formGroup=this.fb.group({type:[null],UserId:[null],Info:[null,[e.AQ.required]],Amount:[null,[e.AQ.required]]})}close(){this.dialogRef.close()}onSubmit(){if(this.formGroup.invalid)return;const a=this.formGroup.getRawValue();"Debit"==this.type?this.agentService.createDebitCorrection(a).subscribe(r=>{0===r.ResponseCode?this.dialogRef.close("success"):this.snackbarService.showError(r.Description)}):"Credit"==this.type&&this.agentService.createCreditCorrection(a).subscribe(r=>{0===r.ResponseCode?this.dialogRef.close("success"):this.snackbarService.showError(r.Description)})}static#t=this.\u0275fac=function(r){return new(r||i)(t.GI1(l.yI),t.GI1(e.KE),t.GI1(p.i),t.GI1(l.sR),t.GI1(E.Y))};static#o=this.\u0275cmp=t.In1({type:i,selectors:[["app-correction-modal"]],standalone:!0,features:[t.UHJ],decls:25,vars:7,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"mat-dialog-title"],[1,"title"],["alt","icon",1,"icon",3,"click"],[1,"modal-body"],[1,"modal-form",3,"formGroup"],[1,"form-row"],[1,"mat-form-field"],["matInput","","type","number","formControlName","Amount",3,"placeholder"],["matInput","","formControlName","Info",3,"placeholder"],["mat-dialog-actions","",1,"mat-dialog-actions"],[1,"modal-cancel-btn",3,"click"],["type","submit",1,"modal-primary-btn",3,"disabled","click"]],template:function(r,n){1&r&&(t.I0R(0,"div",0)(1,"div",1)(2,"span",2),t.OEk(3),t.C$Y(),t.I0R(4,"mat-icon",3),t.qCj("click",function(){return n.close()}),t.OEk(5,"close"),t.C$Y()(),t.I0R(6,"div",4)(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t.OEk(11,"Amount"),t.C$Y(),t.wR5(12,"input",8),t.yuY(13,h,2,0,"mat-error"),t.C$Y()(),t.I0R(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t.OEk(17,"Info"),t.C$Y(),t.wR5(18,"input",9),t.yuY(19,g,2,0,"mat-error"),t.C$Y()()()(),t.I0R(20,"div",10)(21,"button",11),t.qCj("click",function(){return n.close()}),t.OEk(22,"Cancel"),t.C$Y(),t.I0R(23,"button",12),t.qCj("click",function(){return n.onSubmit()}),t.OEk(24,"Submit"),t.C$Y()()()),2&r&&(t.yG2(3),t.cNF(n.type),t.yG2(4),t.E7m("formGroup",n.formGroup),t.yG2(5),t.E7m("placeholder","Amount"),t.yG2(),t.C0Y(13,n.infoControl.hasError("required")?13:-1),t.yG2(5),t.E7m("placeholder","Info"),t.yG2(),t.C0Y(19,n.infoControl.hasError("required")?19:-1),t.yG2(4),t.E7m("disabled",n.formGroup.invalid))},dependencies:[_.MD,e.y,e.sz,e.ot,e.O4,e.ue,e.u,d.oB,d.qL,e.sl,e.uW,e.Wo,s.wb,s.Up,s.w5,s.wJ,C.d5,u.cN,u.yi,f.oJ,l.sr,l.WQ,l.Yp],styles:[".modal-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1fr)}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;width:325px}@media screen and (max-width: 768px){.form-row[_ngcontent-%COMP%]{display:flex;width:275px!important}}"]})}return i})()}}]);