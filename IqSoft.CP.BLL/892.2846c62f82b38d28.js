"use strict";(self.webpackChunkAgentManagmentSystem=self.webpackChunkAgentManagmentSystem||[]).push([[892],{892:(T,d,o)=>{o.r(d),o.d(d,{CorrectionModalComponent:()=>v});var C=o(1368),i=o(6504),f=o(7816),l=o(2864),c=o(4060),u=o(1560),_=o(8416),p=o(2096),t=o(2116),h=o(748),E=o(9112),y=o(3576);function I(e,s){1&e&&(t.I0R(0,"mat-error"),t.OEk(1," The field is required "),t.C$Y())}function g(e,s){1&e&&(t.I0R(0,"mat-error"),t.OEk(1," The field is required "),t.C$Y())}function O(e,s){if(1&e&&(t.I0R(0,"mat-option",15),t.OEk(1),t.C$Y()),2&e){const n=s.$implicit;t.E7m("value",n.Id),t.yG2(),t.cNF(n.Name)}}function M(e,s){if(1&e&&(t.I0R(0,"div",6)(1,"mat-form-field",7)(2,"mat-label"),t.OEk(3,"SelectAccountType"),t.C$Y(),t.I0R(4,"mat-select",14)(5,"mat-option",15),t.OEk(6,"SelectAccountType"),t.C$Y(),t.c53(7,O,2,2,"mat-option",15,t.wJt),t.C$Y()()()),2&e){const n=t.GaO();t.yG2(5),t.E7m("value",0),t.yG2(2),t.oho(n.types)}}let v=(()=>{class e{constructor(n,a,r,m,R){this.dialogRef=n,this.fb=a,this.snackbarService=r,this.data=m,this.clientService=R}ngOnInit(){this.type=this.data.type,this.clientId=this.data.clientId,this.accountId=this.data?.accountId,this.accountTypeId=this.data?.accountTypeId,this.createForm(),this.types=this.data.types,this.types&&this.formGroup.get("AccountTypeId")?.setValidators([i.AQ.required]),this.formGroup.get("type")?.setValue(this.type),this.formGroup.get("ClientId")?.setValue(this.clientId)}get infoControl(){return this.formGroup.get("Info")}get amountControl(){return this.formGroup.get("Amount")}createForm(){this.formGroup=this.fb.group({type:[null],ClientId:[null],Info:[null,[i.AQ.required]],Amount:[null,[i.AQ.required]],AccountTypeId:[this.accountTypeId||null]})}close(){this.dialogRef.close()}onSubmit(){if(this.formGroup.invalid)return;const n=this.formGroup.getRawValue();this.accountId&&(n.AccountId=this.accountId),n.showSelectAccountType=!!this.types,"Debit"==this.type?this.clientService.createClientDebitCorrection(n).subscribe(a=>{0==a.ResponseCode?this.dialogRef.close("success"):this.snackbarService.showError(a.Description)}):"Credit"==this.type&&this.clientService.createClientCreditCorrection(n).subscribe(a=>{0==a.ResponseCode?this.dialogRef.close("success"):this.snackbarService.showError(a.Description)})}static#t=this.\u0275fac=function(a){return new(a||e)(t.GI1(l.yI),t.GI1(i.KE),t.GI1(h.i),t.GI1(l.sR),t.GI1(E.i))};static#o=this.\u0275cmp=t.In1({type:e,selectors:[["app-correction-modal"]],standalone:!0,features:[t.UHJ],decls:26,vars:8,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"mat-dialog-title"],[1,"title"],["alt","icon",1,"icon",3,"click"],[1,"modal-body"],[1,"modal-form",3,"formGroup"],[1,"form-row"],[1,"mat-form-field"],["matInput","","type","number","formControlName","Amount",3,"placeholder"],["matInput","","formControlName","Info",3,"placeholder"],["class","form-row"],["mat-dialog-actions","",1,"mat-dialog-actions"],[1,"modal-cancel-btn",3,"click"],["type","submit",1,"modal-primary-btn",3,"disabled","click"],["formControlName","AccountTypeId"],[3,"value"]],template:function(a,r){1&a&&(t.I0R(0,"div",0)(1,"div",1)(2,"span",2),t.OEk(3),t.C$Y(),t.I0R(4,"mat-icon",3),t.qCj("click",function(){return r.close()}),t.OEk(5,"close"),t.C$Y()(),t.I0R(6,"div",4)(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),t.OEk(11,"Amount"),t.C$Y(),t.wR5(12,"input",8),t.yuY(13,I,2,0,"mat-error"),t.C$Y()(),t.I0R(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),t.OEk(17,"Info"),t.C$Y(),t.wR5(18,"input",9),t.yuY(19,g,2,0,"mat-error"),t.C$Y()(),t.yuY(20,M,9,1,"div",10),t.C$Y()(),t.I0R(21,"div",11)(22,"button",12),t.qCj("click",function(){return r.close()}),t.OEk(23,"Cancel"),t.C$Y(),t.I0R(24,"button",13),t.qCj("click",function(){return r.onSubmit()}),t.OEk(25,"Submit"),t.C$Y()()()),2&a&&(t.yG2(3),t.cNF(r.type),t.yG2(4),t.E7m("formGroup",r.formGroup),t.yG2(5),t.E7m("placeholder","Amount"),t.yG2(),t.C0Y(13,r.infoControl.hasError("required")?13:-1),t.yG2(5),t.E7m("placeholder","Info"),t.yG2(),t.C0Y(19,r.infoControl.hasError("required")?19:-1),t.yG2(),t.C0Y(20,r.types?20:-1),t.yG2(4),t.E7m("disabled",r.formGroup.invalid))},dependencies:[C.MD,i.y,i.sz,i.ot,i.O4,i.ue,i.u,u.oB,u.qL,i.sl,i.uW,i.Wo,c.wb,c.Up,c.w5,c.wJ,p.d5,p.kX,y.I5,_.cN,_.yi,f.oJ,l.sr,l.WQ,l.Yp],styles:[".modal-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1fr)}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-one-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:20px;width:340px}@media screen and (max-width: 768px){.form-row[_ngcontent-%COMP%]{display:flex;width:290px!important}}"]})}return e})()}}]);