"use strict";(self.webpackChunkAgentManagmentSystem=self.webpackChunkAgentManagmentSystem||[]).push([[7436],{516:(A,E,n)=>{n.d(E,{E:()=>_});var e=n(2116),i=n(7408),P=n(7672),w=(n(7024),n(5648));let _=(()=>{class u extends i.K{constructor(a){super(a),this.filterService=(0,e.uUt)(w.q),this.pagination=!0,this.paginationAutoPageSize=!1,this.paginationPageSize=100,this.cacheBlockSize=100,this.suppressPaginationPanel=!1,this.rowModelType=P.kt.SERVER_SIDE,this.serverSideStoreType="full",this.pageSizes=[100,500,1e3,2e3,5e3],this.defaultPageSize=100,this.paginationPage=1,this.defaultColDef={flex:1,editable:!1,filter:"agTextColumnFilter",resizable:!0,unSortIcon:!1,menuTabs:["filterMenuTab","generalMenuTab"],minWidth:15}}onFilterModified(a){this.colId=a.column.colId}keyPressHandler(a){if(document.querySelector(".ag-theme-balham .ag-popup")&&this.colId&&this.gridApi&&"13"===a.key){const c=this.gridApi.getFilterInstance(this.colId);this.colId=void 0,c&&c.applyModel(),this.gridApi.onFilterChanged(),this.gridApi.hidePopupMenu()}}onPaginationChanged(a){const r=this.gridApi?.paginationGetCurrentPage();isNaN(r)||(this.paginationPage=r+1)}onPaginationGoToPage(a){"Enter"===a.key&&(a.preventDefault(),this.gridApi?.paginationGoToPage(this.paginationPage-1))}setFilter(a,r){this.isEmpty(a)||Object.entries(a).forEach(([c,l])=>{const T=c+"s";if(r[T]={ApiOperationTypeList:[],IsAnd:this.getIsAnd(l.operator)},l.hasOwnProperty("condition1")&&l.condition1&&r[T].ApiOperationTypeList.push(this.mapFilterData(l.condition1)),l.hasOwnProperty("condition2")&&l.condition2)r[T].ApiOperationTypeList.push(this.mapFilterData(l.condition2));else{if(0===l.ApiOperationTypeList?.length)return;r[T].ApiOperationTypeList.push(this.mapFilterData(l))}})}mapFilterData(a){const r={OperationTypeId:a.type};switch(a.filterType){case"number":const c=parseFloat(a.filter);isNaN(c)||(r.DecimalValue=c,r.IntValue=Math.round(c));break;case"text":void 0!==a.filter&&(r.StringValue=a.filter);break;case"date":r.DateTimeValue=void 0!==a.dateFrom?a.dateFrom:new Date;break;case"boolean":void 0!==a.filter&&(r.BooleanValue=1===a.filter);break;case"set":r.OperationTypeId=11,void 0!==a.values&&(r.ArrayValue=a.values)}return console.log(r,"appendedFilter"),r}setFilterDropdown(a,r){const c=a.request.filterModel;for(const l of r)c[l]&&!c[l].filter&&(c[l].hasOwnProperty("condition1")?(c[l].condition1.filter=c[l].condition1.type,c[l].condition2.filter=c[l].condition2.type,c[l].condition1.type=1,c[l].condition2.type=1):(c[l].filter=c[l].type,c[l].type=1))}changeFilerName(a,r,c){for(let l=0;l<r.length;l++){const T=r[l];a[T]&&(a[c[l]]=a[T],delete a[T])}}static#e=this.\u0275fac=function(r){return new(r||u)(e.GI1(e.zZn))};static#t=this.\u0275dir=e.Sc5({type:u,standalone:!0,features:[e.eg9]})}return u})()},7084:(A,E,n)=>{n.d(E,{s:()=>e});var e=function(i){return i[i.Agents=215]="Agents",i[i.Clients=216]="Clients",i[i.Users=217]="Users",i[i.ReferralLinks=218]="ReferralLinks",i[i.Announcement=219]="Announcement",i[i.ReportByBetShops=223]="ReportByBetShops",i[i.ReportByInternetClientBets=225]="ReportByInternetClientBets",i[i.ReportByAgents=227]="ReportByAgents",i[i.ReportByAgentsCasion=228]="ReportByAgentsCasion",i[i.ReportByTransactions=229]="ReportByTransactions",i[i.Deposits=231]="Deposits",i[i.Withdrawals=232]="Withdrawals",i[i.PaymentForms=233]="PaymentForms",i[i.Tickets=234]="Tickets",i}(e||{})},4976:(A,E,n)=>{n.d(E,{E:()=>e});class e{constructor(){this.OrderBy=null}}},9196:(A,E,n)=>{n.d(E,{k:()=>h,o:()=>D});var e=n(2116),i=n(1368),P=n(2096),v=n(4060),w=n(8416),_=n(9120),u=n(6504),b=n(3576),a=n(7816),r=n(7048),c=n(2064);const l=(g,p)=>p.Id;function T(g,p){if(1&g&&(e.I0R(0,"mat-option",16),e.OEk(1),e.C$Y()),2&g){const t=p.$implicit;e.E7m("value",t.Id),e.yG2(),e.cNF(t.Name)}}function o(g,p){if(1&g){const t=e.KQA();e.I0R(0,"div",14)(1,"mat-select",15),e.qCj("selectionChange",function(s){e.usT(t);const y=e.GaO();return e.CGJ(y.getByPartnerData(s.value))}),e.I0R(2,"mat-option",16),e.OEk(3),e.C$Y(),e.c53(4,T,2,2,"mat-option",16,l),e.C$Y()()}if(2&g){const t=e.GaO();e.yG2(),e._6D("placeholder","SelectPartner"),e.yG2(),e.E7m("value",null),e.yG2(),e.cNF("SelectPartner"),e.yG2(),e.oho(t.partners)}}function m(g,p){if(1&g){const t=e.KQA();e.I0R(0,"button",7),e.qCj("click",function(){e.usT(t);const s=e.GaO();return e.CGJ(s.selectTime("All Times"))}),e.OEk(1),e.wVc(2,"translate"),e.C$Y()}if(2&g){const t=e.GaO();e.eAK("selected-time","All Times"===t.selectedItem),e.yG2(),e.cNF(e.kDX(2,3,"Common.AllTimes"))}}let h=(()=>{class g{constructor(t){this.translate=t,this.allTimesFilter=(0,e.YhN)(!0),this.toDateChange=new e._w7,this.startDateChange=new e._w7,this.partnerIdChange=new e._w7,this.titleClick=new e._w7,this.titleName="",this.selectedItem="today",this.startDate()}ngOnInit(){this.title&&this.translate.get(this.title).subscribe(t=>{this.titleName=t})}formatDateTime(t){return t?`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}T${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`:""}startDate(){const[t,d]=D.startDate();this.fromDate=t,this.toDate=d}selectTime(t){const[d,s]=D.selectTime(t);this.fromDate=d,this.toDate=s,this.selectedItem=t,this.getCurrentPage()}onStartDateChange(t){this.fromDate=t instanceof Date?t:this.parseDateTimeString(t)}onEndDateChange(t){this.toDate=t instanceof Date?t:this.parseDateTimeString(t)}parseDateTimeString(t){const d=t.split("T");if(2===d.length){const[s,y]=d,[f,C,O]=s.split("-").map(Number),[S,R]=y.split(":").map(Number);return new Date(f,C-1,O,S,R)}return new Date}getByPartnerData(t){this.partnerId=t,this.getCurrentPage()}getCurrentPage(){this.toDateChange.emit({fromDate:this.fromDate,toDate:this.toDate})}onDropdownOpen(t,d){}onTitleClick(){this.titleClick.emit(!0)}static#e=this.\u0275fac=function(d){return new(d||g)(e.GI1(c.qS))};static#t=this.\u0275cmp=e.In1({type:g,selectors:[["app-header"]],inputs:{title:"title",partners:"partners",allTimesFilter:[e.Wk5.SignalBased,"allTimesFilter"]},outputs:{toDateChange:"toDateChange",startDateChange:"startDateChange",partnerIdChange:"partnerIdChange",titleClick:"titleClick"},standalone:!0,features:[e.UHJ],decls:29,vars:28,consts:[[1,"content-action"],[1,"title"],[3,"click"],[1,"contianer-wrap"],["class","custom-dropdown"],[1,"date-time-tabs"],["class","tab-btn","mat-stroked-button","",3,"selected-time"],["mat-stroked-button","",1,"tab-btn",3,"click"],["Dropdown","",1,"calendar-picker",3,"openedDropdown"],["matInput","","type","datetime-local","name","meeting-time",3,"ngModel","ngModelChange"],["dropdownContent",""],["DropdownEnd","",1,"calendar-picker",3,"openedDropdown"],["dropdownEndContent",""],["mat-stroked-button","",1,"mat-btn",3,"click"],[1,"custom-dropdown"],["panelClass","overlay-dropdown","disableOptionCentering","",3,"placeholder","selectionChange"],[3,"value"]],template:function(d,s){if(1&d){const y=e.KQA();e.I0R(0,"div",0)(1,"div",1)(2,"a",2),e.qCj("click",function(){return s.onTitleClick()}),e.OEk(3),e.C$Y()(),e.I0R(4,"div",3),e.yuY(5,o,6,3,"div",4),e.I0R(6,"div",5),e.yuY(7,m,3,5,"button",6),e.I0R(8,"button",7),e.qCj("click",function(){return s.selectTime("month")}),e.OEk(9),e.wVc(10,"translate"),e.C$Y(),e.I0R(11,"button",7),e.qCj("click",function(){return s.selectTime("week")}),e.OEk(12),e.wVc(13,"translate"),e.C$Y(),e.I0R(14,"button",7),e.qCj("click",function(){return s.selectTime("yesterday")}),e.OEk(15),e.wVc(16,"translate"),e.C$Y(),e.I0R(17,"button",7),e.qCj("click",function(){return s.selectTime("today")}),e.OEk(18),e.wVc(19,"translate"),e.C$Y()(),e.I0R(20,"div",8),e.qCj("openedDropdown",function(C){e.usT(y);const O=e.Gew(22);return e.CGJ(s.onDropdownOpen(C,O))}),e.I0R(21,"input",9,10),e.qCj("ngModelChange",function(C){return s.onStartDateChange(C)}),e.C$Y()(),e.I0R(23,"div",11),e.qCj("openedDropdown",function(C){e.usT(y);const O=e.Gew(25);return e.CGJ(s.onDropdownOpen(C,O))}),e.I0R(24,"input",9,12),e.qCj("ngModelChange",function(C){return s.onEndDateChange(C)}),e.C$Y()(),e.I0R(26,"button",13),e.qCj("click",function(){return s.getCurrentPage()}),e.OEk(27),e.wVc(28,"translate"),e.C$Y()()()}2&d&&(e.yG2(3),e.oRS(" ",s.titleName," "),e.yG2(2),e.C0Y(5,s.partners?5:-1),e.yG2(2),e.C0Y(7,s.allTimesFilter()?7:-1),e.yG2(),e.eAK("selected-time","month"===s.selectedItem),e.yG2(),e.cNF(e.kDX(10,18,"Common.Month")),e.yG2(2),e.eAK("selected-time","week"===s.selectedItem),e.yG2(),e.cNF(e.kDX(13,20,"Common.Week")),e.yG2(2),e.eAK("selected-time","yesterday"===s.selectedItem),e.yG2(),e.cNF(e.kDX(16,22,"Common.Yesterday")),e.yG2(2),e.eAK("selected-time","today"===s.selectedItem),e.yG2(),e.cNF(e.kDX(19,24,"Common.Today")),e.yG2(3),e.E7m("ngModel",s.formatDateTime(s.fromDate)),e.yG2(3),e.E7m("ngModel",s.formatDateTime(s.toDate)),e.yG2(3),e.cNF(e.kDX(28,26,"Common.Go")))},dependencies:[i.MD,u.y,u.ot,u.ue,u._G,P.d5,P.kX,b.I5,a.oJ,a.Gw,v.wb,w.cN,w.yi,_.iU,b.Ko,r.SU,u.sl,c.O0,c.sD],styles:["@media only screen and (max-width: 1200px){.content-action{padding:24px 10px 0}.content-action .contianer-wrap .date-time-tabs{display:flex;flex-wrap:wrap;gap:10px;margin:0}.content-action .contianer-wrap .date-time-tabs .tab-btn{margin:0;border:1px solid rgb(196,196,196)!important;background-color:transparent!important;white-space:nowrap}.content-action .contianer-wrap .date-time-tabs .tab-btn.selected-time{background-color:#cacfd6!important}}.content-action{height:6%;display:flex;align-items:center;flex-wrap:wrap;padding-right:10px;padding-left:10px}.content-action .title{font-size:20px;letter-spacing:.04em;color:#076192;flex:1;padding-left:10px}.content-action .title a{text-decoration:none;color:#076192}.content-action .title span{color:#000}.content-action .contianer-wrap{display:flex}.content-action .contianer-wrap .custom-dropdown{margin-right:8px}.content-action .contianer-wrap .custom-dropdown ::ng-deep{font-size:14px}.content-action .contianer-wrap .custom-dropdown ::ng-deep .mat-select{height:36px;border-radius:4px;display:flex!important;align-items:center;width:169px!important;padding:0 8px 0 10px;background-color:#0573ba}.content-action .contianer-wrap .custom-dropdown ::ng-deep .mat-select[aria-expanded=true] .mat-select-trigger .mat-select-arrow-wrapper .mat-select-arrow{border-bottom:5px solid #FFFFFF;border-top:5px solid transparent;margin:0 4px 4px}.content-action .contianer-wrap .custom-dropdown ::ng-deep .mat-select .mat-select-trigger .mat-select-value{color:#fff}.content-action .contianer-wrap .custom-dropdown ::ng-deep .mat-select .mat-select-trigger .mat-select-value .mat-select-placeholder{color:#fff;opacity:.9}.content-action .contianer-wrap .custom-dropdown ::ng-deep .mat-select .mat-select-trigger .mat-select-arrow-wrapper .mat-select-arrow{color:#fff}.content-action .contianer-wrap .custom-dropdown ::ng-deep .mat-select.mat-select-disabled{opacity:.7;pointer-events:none}.content-action .contianer-wrap .date-time-tabs .tab-btn{margin-right:8px;border:1px solid #C4C4C4;box-shadow:none;transition:.3s ease-in}.content-action .contianer-wrap .date-time-tabs .tab-btn .mat-button-focus-overlay{background-color:#fff!important}.content-action .contianer-wrap .date-time-tabs .tab-btn:hover{border:1px solid #076192!important}.content-action .contianer-wrap .date-time-tabs .tab-btn:hover .mat-button-wrapper{color:#076192}.content-action .contianer-wrap .date-time-tabs .tab-btn.selected-time{background-color:#e1eef5!important;border:1px solid #A0C4D7!important;color:#076192!important}.content-action .contianer-wrap .calendar-picker{margin-right:8px}.content-action .contianer-wrap .calendar-picker input{border:1px solid #C4C4C4;height:34px;transition:background-color .3s,color .3s;font-size:14px}body.theme-dark .content-action .contianer-wrap .calendar-picker input{background-color:#303030;color:#fff}.content-action .contianer-wrap .mat-btn{margin-left:8px;background-color:#239dff;padding:10px;border:1px solid #239dff;min-width:104px;color:#fff;border-radius:4px;font-size:16px;font-weight:500;color:#fff!important}.content-action .contianer-wrap .mat-btn ::ng-deep .mat-button-wrapper{color:#fff!important}.content-action .contianer-wrap .mat-btn.disabled{color:#076192!important;background-color:#a0c4d8;pointer-events:none}.content-action .contianer-wrap .mat-btn.disabled ::ng-deep .mat-button-wrapper{color:#076192!important}.content-action .contianer-wrap .mat-btn:hover{cursor:pointer;border:1px solid #076192;background:linear-gradient(#076192,#258ecd 50%,#0573ba)}.content-action .contianer-wrap .tab-btn .mat-stroked-button{border:1px solid #C4C4C4;color:#a8a8a8;background-color:#fff;box-shadow:none;transition:.3s ease-in}.content-action .contianer-wrap .tab-btn .mat-stroked-button .mat-button-focus-overlay{background-color:#fff!important}.content-action .contianer-wrap .tab-btn .mat-stroked-button:hover{border:1px solid #076192!important}.content-action .contianer-wrap .tab-btn .mat-stroked-button:hover .mat-button-wrapper{color:#076192}@media screen and (max-width: 600px){.contianer-wrap{display:flex;width:100%;overflow-x:auto;overflow-y:hidden;flex-wrap:nowrap!important;margin-top:8px}.contianer-wrap .date-time-tabs{flex-wrap:nowrap!important;margin-left:0!important}.content-action{margin-bottom:40px}.contianer-wrap::-webkit-scrollbar{height:0}}\n"],encapsulation:2})}return g})();class D{static startDate(){let p=D.getDateNow();return p.setDate(p.getDate()+1),[D.getDateNow(),p]}static selectTime(p){let t=D.getDateNow(),d=D.getDateNow();switch(d.setDate(d.getDate()+1),p){case"today":break;case"yesterday":t.setDate(t.getDate()-1),d=D.getDateNow();break;case"week":const s=D.getDateNow(),y=new Date(s);y.setDate(s.getDate()-s.getDay()+(0===s.getDay()?-6:1)),new Date(s).setDate(y.getDate()+6),t=y;break;case"month":const C=D.getDateNow();t=new Date(C.getFullYear(),C.getMonth(),1);break;case"All Times":t.setFullYear(1989,11,31);break;case"LastYear":const R=D.getDateNow().getFullYear()-1;t=new Date(R,0,1),d=D.getDateNow()}return[t,d]}static getDateNow(){const p=new Date;return p.setHours(0),p.setMinutes(0),p.setSeconds(0),p.setMilliseconds(0),p}}},9556:(A,E,n)=>{n.d(E,{i:()=>u});var e=n(2116),i=n(6504),P=n(4060),v=n(2096),w=n(3576);function _(b,a){if(1&b&&(e.I0R(0,"mat-option",2),e.OEk(1),e.C$Y()),2&b){const r=a.$implicit;e.E7m("value",r),e.yG2(),e.cNF(r)}}let u=(()=>{class b{constructor(){this.cacheBlockSize=(0,e.YhN)(),this.defaultPageSize=(0,e.YhN)(),this.pageSizes=[100,500,1e3,2e3,5e3],this.pageChange=new e._w7}onPageSizeChanged(r){this.pageChange.emit(r)}static#e=this.\u0275fac=function(c){return new(c||b)};static#t=this.\u0275cmp=e.In1({type:b,selectors:[["app-pagination"]],inputs:{cacheBlockSize:[e.Wk5.SignalBased,"cacheBlockSize"],defaultPageSize:[e.Wk5.SignalBased,"defaultPageSize"]},outputs:{pageChange:"pageChange"},standalone:!0,features:[e.UHJ],decls:4,vars:1,consts:[[1,"pages-sizes"],["panelClass","overlay-dropdown small","disableOptionCentering","",1,"pagination-select",3,"value","selectionChange"],[3,"value"]],template:function(c,l){1&c&&(e.I0R(0,"div",0)(1,"mat-select",1),e.qCj("selectionChange",function(o){return l.onPageSizeChanged(o)}),e.c53(2,_,2,2,"mat-option",2,e.wJt),e.C$Y()()),2&c&&(e.yG2(),e.E7m("value",l.defaultPageSize()),e.yG2(),e.oho(l.pageSizes))},dependencies:[i.y,v.d5,v.kX,w.I5,P.wb],styles:[".pages-sizes{margin-bottom:6px}.mat-mdc-select-panel-above{width:110px!important}.pagination-select{border:1px solid #239dff;border-radius:4px;background-color:#0573ba;padding-left:3px;padding-right:3px}.pagination-select .mat-mdc-select-trigger .mat-mdc-select-value .mat-mdc-select-value-text{color:#fff!important}.pagination-select .mat-mdc-select-trigger .mat-mdc-select-arrow-wrapper svg{color:#fff!important}.pagination-select[aria-expanded=true] .mat-mdc-select-trigger .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{background-color:#0573ba!important;border-bottom:5px solid #0573BA;border-top:5px solid transparent;margin:0 4px 4px}.pagination-select[aria-expanded=true] .mat-mdc-select-trigger .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow svg{top:-200%;left:0;transform:rotate(180deg)}\n"],encapsulation:2})}return b})()},9140:(A,E,n)=>{n.d(E,{k:()=>c});var e=n(1528),i=n(516),P=n(9196),v=n(4976),w=n(1368),_=n(2116),u=n(816),b=n(2236),a=n(748),r=n(2864);let c=(()=>{class l extends i.E{constructor(o,m,h,D,g){super(g),this.paymentsService=o,this.enumService=m,this.snackbarService=h,this.dialog=D,this.rowData=[],this.types=[],this.type="2",this.currencyValue=this.configService.currency,this.createServerSideDatasource=()=>({getRows:p=>{let t=new v.E;t.SkipCount=this.paginationPage-1,t.TakeCount=Number(this.cacheBlockSize),t.FromDate=this.fromDate,t.ToDate=this.toDate,t.Type=this.type,this.setSort(p.request.sortModel,t),this.setFilter(p.request.filterModel,t),this.paymentsService.getPaymentRequestsPaging(t).subscribe(d=>{if(0===d.ResponseCode){const s=d.ResponseObject?.PaymentRequests?.Entities||[];this.rowData=s;const C=[{Amount:`${d.ResponseObject.PaymentRequests.TotalAmount} ${this.currencyValue}`,Login:`${d.ResponseObject.PaymentRequests.TotalUniquePlayers}`}];s.forEach(O=>{O.StatusName=this.types?.find(S=>S.Id===O.Status)?.Name}),this.gridApi?.setPinnedBottomRowData(C),p.success({rowData:s,rowCount:d.ResponseObject.Count})}else this.snackbarService.showError(d.Description)})}})}ngOnInit(){this.getPeymentReqestStates();const[o,m]=P.o.startDate();this.fromDate=o,this.toDate=m,this.getCurrentPage()}onDateChange(o){this.fromDate=o.fromDate,this.toDate=o.toDate,this.getCurrentPage(),this.setColdefs()}getPeymentReqestStates(){this.enumService.getPaymentRequestStates().subscribe(o=>{this.types=o?.ResponseObject})}setColdefs(){this.columnDefs=[{headerName:"Common.Id",headerValueGetter:this.localizeHeader.bind(this),field:"Id",filter:!1,sortable:!0},{headerName:"Common.ClientId",headerValueGetter:this.localizeHeader.bind(this),field:"ClientId",filter:!1,sortable:!1},{headerName:"Common.Login",headerValueGetter:this.localizeHeader.bind(this),field:"Login",filter:!1,sortable:!1},{headerName:"Common.NameSurname",headerValueGetter:this.localizeHeader.bind(this),field:"FirstName",filter:!1,sortable:!1,cellRenderer:o=>o.data.FirstName&&o.data.LastName?`<mat-icon data-action-type="view-note" class="mat-icon material-icons" style="font-size: 18px; width: 18px; height: 20px; vertical-align: middle"> ${o.data.ClientHasNote?"folder":"folder_open"}</mat-icon> <span data-action-type="view-name">${o.data.FirstName} ${o.data.LastName}</span>`:""},{headerName:"Common.Group",headerValueGetter:this.localizeHeader.bind(this),field:"GroupId",filter:!1,sortable:!1},{headerName:"Common.ExternalId",headerValueGetter:this.localizeHeader.bind(this),field:"ExternalId",filter:!1,sortable:!1},{headerName:"Common.Amount",headerValueGetter:this.localizeHeader.bind(this),field:"Amount",filter:!1,sortable:!1},{headerName:"Common.BetShopName",headerValueGetter:this.localizeHeader.bind(this),field:"BetShopName",filter:!1,sortable:!1},{headerName:"Common.Currency",headerValueGetter:this.localizeHeader.bind(this),field:"CurrencyId",filter:!1,sortable:!1},{headerName:"Common.PartnerName",headerValueGetter:this.localizeHeader.bind(this),field:"PartnerId",filter:!1,sortable:!1},{headerName:"Common.PaymentSystem",headerValueGetter:this.localizeHeader.bind(this),field:"PaymentSystemName",filter:!1,sortable:!1},{headerName:"Common.AffiliatePlatformId",headerValueGetter:this.localizeHeader.bind(this),field:"AffiliatePlatformId",filter:!1,sortable:!1},{headerName:"Common.AffiliateId",headerValueGetter:this.localizeHeader.bind(this),field:"AffiliateId",filter:!1,sortable:!1},{headerName:"Common.Status",headerValueGetter:this.localizeHeader.bind(this),field:"StatusName",filter:!1,sortable:!1},{headerName:"Common.CreationTime",headerValueGetter:this.localizeHeader.bind(this),field:"CreationTime",filter:!1,sortable:!1,cellRenderer:function(o){let h=new w.y("en-US").transform(o.data.CreationTime,"medium");return h?`${h}`:""}},{headerName:"Common.LastUpdateTime",headerValueGetter:this.localizeHeader.bind(this),field:"LastUpdateTime",filter:!1,sortable:!1,cellRenderer:function(o){let h=new w.y("en-US").transform(o.data.LastUpdateTime,"medium");return h?`${h}`:""}},{headerName:"Common.View",headerValueGetter:this.localizeHeader.bind(this),field:"View",filter:!1,sortable:!1,minWidth:60,cellRenderer:o=>o.node.rowPinned?"":'<i style="color:#076192; cursor: pointer;" class="material-icons">\n            visibility\n          </i>',onCellClicked:o=>this.toRedirectTopayment(o)}]}toRedirectTopayment(o){this.router.navigate(["/main/payments/paymentrequests"],{queryParams:{id:o.data.Id,type:this.type}})}onGridReady(o){super.onGridReady(o),this.gridApi?.setServerSideDatasource(this.createServerSideDatasource())}onPageSizeChanged(o){this.cacheBlockSize=o.value,this.gridApi?.paginationSetPageSize(Number(this.cacheBlockSize)),setTimeout(()=>{this.gridApi?.refreshServerSide({purge:!0})},0)}onRowClicked(o){if(void 0!==o.event.target){let m=o.data;switch(o.event.target.getAttribute("data-action-type")){case"add":return this.addNotes(m);case"view":return this.openNotes(m.Id,157);case"view-name":return this.goToClient(o);case"view-note":return this.openNotes(m.ClientId,157)}}}goToClient(o){var m=this;return(0,e.c)(function*(){try{const h=o.data;yield m.router.navigate(["/main/clients/client/main"],{queryParams:{clientId:h.ClientId}})}catch(h){throw console.error("Navigation failed:",h),h}})()}addNotes(o){return(0,e.c)(function*(){console.log(o,"params")})()}openNotes(o,m){return(0,e.c)(function*(){console.log(o,m)})()}static#e=this.\u0275fac=function(m){return new(m||l)(_.GI1(u.E),_.GI1(b.Y),_.GI1(a.i),_.GI1(r.qW),_.GI1(_.zZn))};static#t=this.\u0275dir=_.Sc5({type:l,standalone:!0,features:[_.eg9]})}return l})()},816:(A,E,n)=>{n.d(E,{E:()=>_});var e=n(2684),i=n(1e3),P=n(2116),v=n(8848),w=n(9600);let _=(()=>{class u{constructor(a,r){this.configService=a,this.mainApiService=r,this.url=this.configService.getApiUrl}getPaymentSystems(){return this.mainApiService.apiPost(this.url,e.M.PAYMENT,i.a.GET_PAYMENT_SYSTEMS,{},!0)}getPaymentRequestsPaging(a){return this.mainApiService.apiPost(this.url,e.M.PAYMENT,i.a.GET_PAYMENT_REQUESTS_PAGING,a,!0)}rejectPaymentRequest(a){return this.mainApiService.apiPost(this.url,e.M.PAYMENT,i.a.REJECT_PAYMENT_REQUEST,a,!0)}getPaymentRequestById(a){return this.mainApiService.apiPost(this.url,e.M.PAYMENT,i.a.GET_PAYMENT_REQUEST_BY_ID,a,!0)}getPaymentHistory(a){return this.mainApiService.apiPost(this.url,e.M.PAYMENT,i.a.GET_PAYMENT_REQUEST_HISTORIES,a,!0)}updatePaymentEntry(a){return this.mainApiService.apiPost(this.url,e.M.PAYMENT,i.a.UPDATE_PAYMENT_ENTRY,a,!0)}static#e=this.\u0275fac=function(r){return new(r||u)(P.CoB(v.a),P.CoB(w._))};static#t=this.\u0275prov=P.wxM({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()}}]);