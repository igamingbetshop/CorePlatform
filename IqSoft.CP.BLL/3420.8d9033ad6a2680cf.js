"use strict";(self.webpackChunkAgentManagmentSystem=self.webpackChunkAgentManagmentSystem||[]).push([[3420],{3420:(L,c,o)=>{o.r(c),o.d(c,{CreateUserComponent:()=>F});var u=o(1368),n=o(6504),f=o(7816),l=o(4060),_=o(1560),d=o(8416),E=o(2096),m=o(2864),g=o(3992),p=o(2064),e=o(2116),h=o(8196),I=o(2236),R=o(748),G=o(5068),y=o(3576);function O(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function D(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function Y(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function v(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.MinLength")," "))}function N(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function U(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function k(r,i){if(1&r&&(e.I0R(0,"mat-option",14),e.OEk(1),e.C$Y()),2&r){const a=i.$implicit;e.E7m("value",a.Id),e.yG2(),e.cNF(a.Name)}}function T(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function S(r,i){if(1&r&&(e.I0R(0,"mat-option",14),e.OEk(1),e.C$Y()),2&r){const a=i.$implicit;e.E7m("value",a.Id),e.yG2(),e.cNF(a.Name)}}function $(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function M(r,i){if(1&r&&(e.I0R(0,"mat-option",14),e.OEk(1),e.C$Y()),2&r){const a=i.$implicit;e.E7m("value",a.Id),e.yG2(),e.cNF(a.Name)}}function P(r,i){1&r&&(e.I0R(0,"mat-error"),e.OEk(1),e.wVc(2,"translate"),e.C$Y()),2&r&&(e.yG2(),e.oRS(" ",e.kDX(2,1,"Errors.TheFieldIsRequired")," "))}let F=(()=>{class r{get usernameControl(){return this.formGroup.get("UserName")}get passwordControl(){return this.formGroup.get("Password")}get firstNameControl(){return this.formGroup.get("FirstName")}get lastNameControl(){return this.formGroup.get("LastName")}get emailControl(){return this.formGroup.get("Email")}get stateControl(){return this.formGroup.get("State")}get genderControl(){return this.formGroup.get("Gender")}get languageControl(){return this.formGroup.get("LanguageId")}constructor(a,s,t,C,w,A){this.dialogRef=a,this.fb=s,this.localStorageService=t,this.enumService=C,this.snackbarService=w,this.mainService=A,this.states=[],this.genders=[],this.languages=[],this.createForm()}ngOnInit(){this.setStates(),this.genders=this.localStorageService.get("enums").genders,this.languages=this.localStorageService.get("enums").languages}setStates(){this.enumService.getUserStates().subscribe(a=>{0===a.ResponseCode?this.states=a.ResponseObject:this.snackbarService.showError(a.Description)})}createForm(){this.formGroup=this.fb.group({UserName:[null,[n.AQ.required]],Password:[null,[n.AQ.required,n.AQ.minLength(8)]],FirstName:[null,[n.AQ.required]],LastName:[null,[n.AQ.required]],Email:[null],State:[1,[n.AQ.required]],Gender:[1,[n.AQ.required]],LanguageId:["en",[n.AQ.required]]})}get errorControl(){return this.formGroup.controls}close(){this.dialogRef.close()}onSubmit(){if(this.formGroup.invalid)return;const a=this.formGroup.getRawValue();this.mainService.saveSubAccount(a).pipe((0,g.U)(1)).subscribe(s=>{0===s.ResponseCode?this.dialogRef.close():this.snackbarService.showError(s.Description)})}static#e=this.\u0275fac=function(s){return new(s||r)(e.GI1(m.yI),e.GI1(n.KE),e.GI1(h.s),e.GI1(I.Y),e.GI1(R.i),e.GI1(G.M))};static#r=this.\u0275cmp=e.In1({type:r,selectors:[["app-create-user"]],standalone:!0,features:[e.UHJ],decls:75,vars:47,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"mat-dialog-title"],[1,"title"],["alt","icon",1,"icon",3,"click"],[1,"modal-body"],[1,"modal-form",3,"formGroup"],[1,"form-row","form-row-500"],["appearance","outline",1,"mat-form-field"],["matInput","","formControlName","UserName",3,"placeholder"],["matInput","","formControlName","FirstName",3,"placeholder"],["matInput","","type","password","formControlName","Password",3,"placeholder"],["matInput","",3,"placeholder","formControlName"],["matInput","","formControlName","Email",3,"placeholder"],["formControlName","Gender"],[3,"value"],["formControlName","LanguageId"],["formControlName","State"],[4,"ngIf"],["mat-dialog-actions","",1,"mat-dialog-actions"],[1,"modal-cancel-btn",3,"click"],["type","submit",1,"modal-primary-btn",3,"disabled","click"]],template:function(s,t){1&s&&(e.I0R(0,"div",0)(1,"div",1)(2,"span",2),e.OEk(3),e.C$Y(),e.I0R(4,"mat-icon",3),e.qCj("click",function(){return t.close()}),e.OEk(5,"close"),e.C$Y()(),e.I0R(6,"div",4)(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e.OEk(11),e.wVc(12,"translate"),e.C$Y(),e.wR5(13,"input",8),e.yuY(14,O,3,3,"mat-error"),e.C$Y(),e.I0R(15,"mat-form-field",7)(16,"mat-label"),e.OEk(17,"FirstName"),e.C$Y(),e.wR5(18,"input",9),e.yuY(19,D,3,3,"mat-error"),e.C$Y()(),e.I0R(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),e.OEk(23),e.C$Y(),e.wR5(24,"input",10),e.yuY(25,Y,3,3,"mat-error")(26,v,3,3,"mat-error"),e.C$Y(),e.I0R(27,"mat-form-field",7)(28,"mat-label"),e.OEk(29),e.wVc(30,"translate"),e.C$Y(),e.wR5(31,"input",11),e.yuY(32,N,3,3,"mat-error"),e.C$Y()(),e.I0R(33,"div",6)(34,"mat-form-field",7)(35,"mat-label"),e.OEk(36),e.wVc(37,"translate"),e.C$Y(),e.wR5(38,"input",12),e.yuY(39,U,3,3,"mat-error"),e.C$Y(),e.I0R(40,"mat-form-field",7)(41,"mat-label"),e.OEk(42),e.wVc(43,"translate"),e.C$Y(),e.I0R(44,"mat-select",13)(45,"mat-option",14),e.OEk(46),e.wVc(47,"translate"),e.C$Y(),e.c53(48,k,2,2,"mat-option",14,e.wJt),e.C$Y(),e.yuY(50,T,3,3,"mat-error"),e.C$Y()(),e.I0R(51,"div",6)(52,"mat-form-field",7)(53,"mat-label"),e.OEk(54),e.wVc(55,"translate"),e.C$Y(),e.I0R(56,"mat-select",15),e.c53(57,S,2,2,"mat-option",14,e.wJt),e.C$Y(),e.yuY(59,$,3,3,"mat-error"),e.C$Y(),e.I0R(60,"mat-form-field",7)(61,"mat-label"),e.OEk(62),e.wVc(63,"translate"),e.C$Y(),e.I0R(64,"mat-select",16),e.c53(65,M,2,2,"mat-option",14,e.wJt),e.C$Y(),e.yuY(67,P,3,3,"mat-error",17),e.C$Y()()()(),e.I0R(68,"div",18)(69,"button",19),e.qCj("click",function(){return t.close()}),e.OEk(70),e.wVc(71,"translate"),e.C$Y(),e.I0R(72,"button",20),e.qCj("click",function(){return t.onSubmit()}),e.OEk(73),e.wVc(74,"translate"),e.C$Y()()()),2&s&&(e.yG2(3),e.cNF("Common.AddUser"),e.yG2(4),e.E7m("formGroup",t.formGroup),e.yG2(4),e.cNF(e.kDX(12,29,"Common.UserName")),e.yG2(2),e.E7m("placeholder","UserName"),e.yG2(),e.C0Y(14,t.usernameControl.hasError("required")?14:-1),e.yG2(4),e.E7m("placeholder","FirstName"),e.yG2(),e.C0Y(19,t.firstNameControl.hasError("required")?19:-1),e.yG2(4),e.cNF("Common.Password"),e.yG2(),e.E7m("placeholder","Password at least 8 characters"),e.yG2(),e.C0Y(25,t.passwordControl.hasError("required")?25:-1),e.yG2(),e.C0Y(26,t.passwordControl.hasError("minlength")?26:-1),e.yG2(3),e.cNF(e.kDX(30,31,"Common.LastName")),e.yG2(2),e.E7m("placeholder","LastName")("formControlName","LastName"),e.yG2(),e.C0Y(32,t.lastNameControl.hasError("required")?32:-1),e.yG2(4),e.cNF(e.kDX(37,33,"Common.Email")),e.yG2(2),e.E7m("placeholder","Email"),e.yG2(),e.C0Y(39,t.emailControl.hasError("required")?39:-1),e.yG2(3),e.cNF(e.kDX(43,35,"Common.SelectGender")),e.yG2(3),e.E7m("value",0),e.yG2(),e.cNF(e.kDX(47,37,"Common.SelectGender")),e.yG2(2),e.oho(t.genders),e.yG2(2),e.C0Y(50,t.genderControl.hasError("required")?50:-1),e.yG2(4),e.cNF(e.kDX(55,39,"Common.SelectLanguage")),e.yG2(3),e.oho(t.languages),e.yG2(2),e.C0Y(59,t.languageControl.hasError("required")?59:-1),e.yG2(3),e.cNF(e.kDX(63,41,"Common.SelectState")),e.yG2(3),e.oho(t.states),e.yG2(2),e.E7m("ngIf",t.stateControl.hasError("required")),e.yG2(3),e.cNF(e.kDX(71,43,"Common.Cancel")),e.yG2(2),e.E7m("disabled",t.formGroup.invalid),e.yG2(),e.oRS(" ",e.kDX(74,45,"Common.CreateUser"),""))},dependencies:[u.MD,u.u_,n.y,n.sz,n.ot,n.ue,n.u,_.oB,_.qL,n.sl,n.uW,n.Wo,l.wb,l.Up,l.w5,l.wJ,E.d5,E.kX,y.I5,d.cN,d.yi,f.oJ,m.sr,m.WQ,m.Yp,p.O0,p.sD]})}return r})()}}]);