"use strict";(self.webpackChunkAgentManagmentSystem=self.webpackChunkAgentManagmentSystem||[]).push([[3308],{3308:(O,p,n)=>{n.r(p),n.d(p,{LoginComponent:()=>$});var b=n(1368),d=n(2080),u=n(7816),i=n(6504),g=n(4060),h=n(1560),C=n(8416),v=n(2096),x=n(7048);class y{static mapFormDataToLoginReqData(c){return{UserName:c.userName,Password:c.password,Language:c.language}}}var f=n(2064),t=n(2116),w=n(5359),I=n(8848),R=n(8196),G=n(748),S=n(2100),L=n(3576);function k(o,c){1&o&&(t.I0R(0,"mat-error"),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&o&&(t.yG2(),t.oRS(" ",t.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function E(o,c){1&o&&(t.I0R(0,"mat-error"),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&o&&(t.yG2(),t.oRS(" ",t.kDX(2,1,"Errors.TheFieldIsRequired")," "))}function Y(o,c){1&o&&(t.I0R(0,"mat-error"),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&o&&(t.yG2(),t.oRS(" ",t.kDX(2,1,"Errors.ShouldIncludeAtLeast")," "))}function T(o,c){if(1&o&&(t.I0R(0,"mat-option",20),t.OEk(1),t.C$Y()),2&o){const a=c.$implicit;t.E7m("value",a.Id),t.yG2(),t.cNF(a.Name)}}function D(o,c){1&o&&(t.I0R(0,"mat-error"),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&o&&(t.yG2(),t.oRS(" ",t.kDX(2,1,"Errors.TheFieldIsRequired")," "))}let $=(()=>{class o{get usernameControl(){return this.form.get("userName")}get passwordControl(){return this.form.get("password")}get languageControl(){return this.form.get("language")}constructor(a,r,e,m,s,l,N){this.authService=a,this.configService=r,this.localStorageService=e,this.snackbarService=m,this.fb=s,this.router=l,this.translate=N,this.imagePath="",this.form=this.fb.group({userName:["",i.AQ.required],password:["",i.AQ.required],language:["en",i.AQ.required]})}ngOnInit(){this.languages=this.configService.langList,this.setLogoByDomain()}changeLanguage(a){this.localStorageService.addLanguage("lang",a),this.translate.use(a)}onSubmit(){const a=y.mapFormDataToLoginReqData(this.form.value);this.authService.logIn(a).subscribe(r=>{0===r.ResponseCode?(localStorage.setItem("agentMenus",JSON.stringify(r.AdminMenu)),this.router.navigate(["/main/dashboard"])):this.snackbarService.showError(r.Description)})}setLogoByDomain(){const a="assets/images/"+window.location.hostname+"/login-logo.svg";let r=new Image;r.onload=()=>{this.imagePath=a},r.onerror=()=>{this.imagePath="assets/images/login-logo.svg"},r.src=a}toRedirectForgotPassword(){this.router.navigate(["auth/forget-password"])}static#t=this.\u0275fac=function(r){return new(r||o)(t.GI1(w.o),t.GI1(I.a),t.GI1(R.s),t.GI1(G.i),t.GI1(i.KE),t.GI1(S.E5),t.GI1(f.qS))};static#o=this.\u0275cmp=t.In1({type:o,selectors:[["app-login"]],standalone:!0,features:[t.UHJ],decls:44,vars:21,consts:[[1,"login-container"],[1,"card"],[1,"card-header"],["alt","logo",3,"src"],[1,"name"],[1,"login-form",3,"formGroup","ngSubmit"],[1,"title"],["appearance","outline"],["matInput","","placeholder","Username","type","text","formControlName","userName",1,"input"],["user",""],["matTextPrefix","",1,"matTextPrefix"],[1,"icon"],["appearance","outline",1,"password-input"],["matInput","","placeholder","Password","type","password","formControlName","password",1,"input"],["password",""],[1,"password-icon",3,"click"],["formControlName","language","panelClass","overlay-dropdown login","disableOptionCentering","",3,"selectionChange"],[1,"forget-pass",3,"click"],[1,"btn-content"],["type","submit","mat-button","",1,"login-btn"],[3,"value"]],template:function(r,e){if(1&r){const m=t.KQA();t.I0R(0,"div",0)(1,"mat-card",1)(2,"mat-card-header",2),t.wR5(3,"img",3),t.I0R(4,"div",4),t.OEk(5),t.wVc(6,"translate"),t.C$Y()(),t.I0R(7,"form",5),t.qCj("ngSubmit",function(){return e.onSubmit()}),t.I0R(8,"mat-card-content")(9,"div",6),t.OEk(10),t.wVc(11,"translate"),t.C$Y(),t.I0R(12,"mat-form-field",7),t.wR5(13,"input",8,9),t.I0R(15,"span",10)(16,"mat-icon",11),t.OEk(17,"account_circle"),t.C$Y()(),t.yuY(18,k,3,3,"mat-error"),t.C$Y(),t.I0R(19,"mat-form-field",12),t.wR5(20,"input",13,14),t.I0R(22,"span",10)(23,"mat-icon",11),t.OEk(24,"key"),t.C$Y()(),t.I0R(25,"mat-icon",15),t.qCj("click",function(){t.usT(m);const l=t.Gew(21);return t.CGJ(l.type="password"===l.type?"text":"password")}),t.OEk(26),t.C$Y(),t.yuY(27,E,3,3,"mat-error")(28,Y,3,3,"mat-error"),t.C$Y(),t.I0R(29,"mat-form-field",7)(30,"mat-select",16),t.qCj("selectionChange",function(l){return e.changeLanguage(l.value)}),t.c53(31,T,2,2,"mat-option",20,t.wJt),t.C$Y(),t.I0R(33,"span",10)(34,"mat-icon",11),t.OEk(35,"language"),t.C$Y()(),t.yuY(36,D,3,3,"mat-error"),t.C$Y(),t.I0R(37,"a",17),t.qCj("click",function(){return e.toRedirectForgotPassword()}),t.OEk(38),t.wVc(39,"translate"),t.C$Y()(),t.I0R(40,"div",18)(41,"button",19),t.OEk(42),t.wVc(43,"translate"),t.C$Y()()()()()}if(2&r){const m=t.Gew(21);t.yG2(3),t._6D("src",e.imagePath,t.K6U),t.yG2(2),t.cNF(t.kDX(6,13,"Login.AgentsSystem")),t.yG2(2),t.E7m("formGroup",e.form),t.yG2(3),t.cNF(t.kDX(11,15,"Login.LoginAccount")),t.yG2(8),t.C0Y(18,e.usernameControl.hasError("required")?18:-1),t.yG2(8),t.cNF("password"===m.type?"visibility":"visibility_off"),t.yG2(),t.C0Y(27,e.passwordControl.hasError("required")?27:-1),t.yG2(),t.C0Y(28,e.passwordControl.hasError("pattern")?28:-1),t.yG2(3),t.oho(e.languages),t.yG2(5),t.C0Y(36,e.languageControl.hasError("required")?36:-1),t.yG2(2),t.cNF(t.kDX(39,17,"Login.ForgetPassword")),t.yG2(3),t.eAK("disabled",e.form.invalid),t.yG2(),t.oRS(" ",t.kDX(43,19,"Common.Submit"),"")}},dependencies:[b.MD,i.y,i.sz,i.ot,i.ue,i.u,i.sl,i.uW,i.Wo,d.NR,d.SM,d.WK,d.Uc,u.oJ,u.Gw,g.wb,g.Up,g.wJ,g.is,v.d5,v.kX,L.I5,C.cN,C.yi,h.oB,h.qL,x.SU,f.O0,f.sD],styles:[".login-container{display:flex;justify-content:center;align-items:center;flex-direction:row;height:100vh;background-color:#076192}.login-container .card-header{text-align:center;width:100%;display:block;padding:34px 0}.login-container .card-header .name{color:#076192;margin-top:4px;cursor:default}.login-container mat-card{padding:0 24px 24px;background-color:#f0f5f8;box-shadow:unset;max-width:452px;width:100%;box-sizing:border-box}.login-container mat-card card-header{text-align:center;width:100%;display:block;padding:34px 0}.login-container mat-card card-header .name{color:#076192;margin-top:4px}.login-container mat-card .login-form{padding:0 34px 32px;border-radius:4px;background-color:#fff;box-shadow:0 4px 4px #00000040}.login-container mat-card .login-form mat-card-content{margin-bottom:60px}.login-container mat-card .login-form mat-card-content .title{text-align:center;padding:32px 0 30px;color:#035d8f;font-size:16px;cursor:default}.login-container mat-card .login-form mat-card-content mat-form-field{margin-bottom:10px;width:100%;color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-mdc-text-field-wrapper{background-color:#e9f0fe}.login-container mat-card .login-form mat-card-content mat-form-field .input{margin-left:12px;width:100%}.login-container mat-card .login-form mat-card-content mat-form-field mat-select{width:100%;margin-left:12px;color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field::placeholder{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field::placeholder .ng-invalid.ng-touched{color:#b11029!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-placeholder{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-placeholder.ng-invalid.ng-touched{color:#b11029!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-value-text{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-value-text.ng-invalid.ng-touched{color:#b11029!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-form-field-label{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-form-field-label.ng-invalid.ng-touched{color:#b11029!important}.login-container mat-card .login-form mat-card-content mat-form-field .mat-select-arrow{color:#378fc8!important}.login-container mat-card .login-form mat-card-content mat-form-field mat-error{font-size:12px!important;color:#b11029!important}.login-container mat-card .login-form .matTextPrefix{position:relative}.login-container mat-card .login-form .matTextPrefix .mat-icon{position:absolute;left:-14px;top:-17px;color:#035d8f}.login-container mat-card .login-form .password-input{position:relative;width:100%}.login-container mat-card .login-form .password-input .password-icon{position:absolute;top:10px;right:-17px;font-size:19px;color:#035d8f}a{color:#378fc8;cursor:pointer;text-decoration:none}a:hover{color:#b11029}.btn-content{position:relative}.btn-content .login-btn{width:100%;padding:0 10px;height:52px;color:#fff;background:linear-gradient(#2787b7,#035d8f);cursor:pointer;border:unset}.btn-content .login-btn ::ng-deep .mat-button-wrapper{color:#fff!important}.btn-content .login-btn.disabled{opacity:.7}.btn-content .login-btn:hover{border:1px solid #076192;background-color:#0573ba}.btn-content .mat-error{color:#d3455b;font-size:12px;position:absolute;left:0;top:43px}\n"],encapsulation:2})}return o})()}}]);